!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@babel/helper-module-imports"),require("@babel/types"),require("aslemammad-vite-plugin-macro"),require("babel-plugin-macros")):"function"==typeof define&&define.amd?define(["exports","@babel/helper-module-imports","@babel/types","aslemammad-vite-plugin-macro","babel-plugin-macros"],r):r((e="undefined"!=typeof globalThis?globalThis:e||self).valtioVite={},e.helperModuleImports,e.t,e.aslemammadVitePluginMacro,e.babelPluginMacros)}(this,(function(e,r,t,a,o){"use strict";function n(e){if(e&&e.__esModule)return e;var r=Object.create(null);return e&&Object.keys(e).forEach((function(t){if("default"!==t){var a=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,a.get?a:{enumerable:!0,get:function(){return e[t]}})}})),r.default=e,Object.freeze(r)}var i=n(t),l=a.defineMacro("useProxy").withSignature("<T extends object>(proxyObject: T): void").withHandler((function(e){var t,a,n,l,u=e.path,c=e.args,d=r.addNamed(u,"useSnapshot","valtio"),s=null==(t=c[0])?void 0:t.node;if(!i.isIdentifier(s))throw new o.MacroError("no proxy object");var f=i.identifier("valtio_macro_snap_"+s.name);null==(a=u.parentPath)||a.replaceWith(i.variableDeclaration("const",[i.variableDeclarator(f,i.callExpression(d,[s]))]));var p=0;null==(n=u.parentPath)||null==(l=n.getFunctionParent())||l.traverse({Identifier:function(e){0===p&&e.node!==s&&e.node.name===s.name&&(e.node.name=f.name)},Function:{enter:function(){++p},exit:function(){--p}}})}));function u(){return a.defineMacroProvider({id:"valtio/macro",exports:{"valtio/macro":{macros:[l]}}})}var c=a.createMacroPlugin({}).use(u());e.default=c,e.provideValtioMacro=u,e.valtioMacro=l,Object.defineProperty(e,"__esModule",{value:!0})}));
